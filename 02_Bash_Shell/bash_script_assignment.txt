Write a bash script that performs the following tasks:
1. Uses apt to update and upgrade software packages.
2. Updates all snap apps.
3. Installs opera browser using snap.
4. Installs the following packages with apt: plocate, source-highlight, gnome-shell-extension-manager
5. Enables ufw firewall.
6. Enables Source Highlighting in less command.
```bash
sudo apt install source-highlight
echo 'export LESSOPEN="| /usr/share/source-highlight/src-hilite-lesspipe.sh %s"' >> /home/<username>/.bashrc
echo "export LESS=' -cR '" >> /home/<username>/.bashrc
source /home/<username>/.bashrc
```
NOTE: The above command is what you need to run.
You will have to figure out how to make it run on the user's .bashrc file.

7. Install Visual Studio Code by downloading the package and using the commands below:
```bash
chmod 666 code_1.103.1-1755017277_amd64.deb
mv code_1.103.1-1755017277_amd64.deb /tmp
sudo apt install /tmp/code_1.103.1-1755017277_amd64.deb
```
NOTE: You will have to use curl or wget to download the package.
I suggest downloading it to /tmp.
Also remove the .deb package after installation.

8. Use gsettings to set the following apps in the dock:
    - Terminal
    - Firefox
    - Opera
    - Visual Studio Code

9. Use gsettings to set the dock to auto-hide.
10. Use gsettings to set color-scheme to prefer dark.
11. Use gsettings to set dock intellihide to false.
12. Use gsettings to set dock-fixed to false.
13. Install "Custom Hot Corners - Extended" extension for gnome-shell-extension-manager.
14. Enable the extension using gnome-extensions command.
    See: https://github.com/G-dH/custom-hot-corners-extended
15. Use apt to autremove unnecessary packages.
16. Make your script executable by changing its permissions.
17. Add a shebang line at the top of your script to specify the interpreter.
18. Add comments to your script to explain each step.